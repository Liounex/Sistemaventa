<!-- inicio.html -->

{% extends 'layout.html' %}
{% block contenido %}
<div style="display: flex; margin-bottom: 10px;">
  <div style="flex: 1; margin-right: 10px; margin-bottom: 0;">
    <label for="">Nuevos Usuarios del Sistema</label>
    <form method="post">
      {% csrf_token %}
      <label for="nombre">Nombre:</label>
      <input type="text" id="nombre" name="nombre" required><br>

      <label for="apellido">Apellido:</label>
      <input type="text" id="apellido" name="apellido" required><br>

      <label for="correo">Correo electrónico:</label>
      <input type="email" id="correo" name="correo" required><br>

      <label for="direccion">Dirección:</label>
      <input type="text" id="direccion" name="direccion" required><br>

      <label for="telefono">Teléfono:</label>
      <input type="tel" id="telefono" name="telefono" required><br>

      <label for="usuario">Usuario:</label>
      <input type="text" id="usuario" name="usuario" required><br>

      <label for="contrasena">Contraseña:</label>
      <input type="password" id="contrasena" name="contrasena" required><br>

      <label for="tipo">Rol de Usuario</label>
      <select name="rol" id="rol" required>
        <option value="" disabled selected>--Seleccione el Rol del Usuario--</option>
        <option value="1">Administrador</option>
        <option value="2">Vendedor</option>
        <option value="" disabled>Proximamente</option>
      </select>

      <input type="submit" value="Registrarse">
    </form>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.6/dist/sweetalert2.all.min.js"></script>
  {% if messages %}
  {% for message in messages %}
  <script>

    Swal.fire({
      title: "{{ message.tags }}",
      text: "{{ message }}",
      icon: "{{ message.tags }}",
    });

  </script>
  {% endfor %}
  {% endif %}

  <div style="flex: 1; margin-left: 10px; margin-bottom: 0;">
    <h2>Datos de los Usuarios</h2>
    <table>
      <tr>
        <th>Nombre</th>
        <th>Apellido</th>
        <th>Correo electrónico</th>
        <th>Dirección</th>
        <th>Teléfono</th>
        <th>Usuario</th>
      </tr>
      {% for usuario in datos_usuario %}
      <tr>
        <td>{{ usuario.nombre }}</td>
        <td>{{ usuario.apellido }}</td>
        <td>{{ usuario.correo }}</td>
        <td>{{ usuario.direccion }}</td>
        <td>{{ usuario.telefono }}</td>
        <td>{{ usuario.usuario }}</td>
      </tr>
      {% endfor %}
    </table>
  </div>
  {% endblock %}